{"version":3,"file":"beyond-user.mjs","sources":["../../../projects/user/src/lib/services/form/form.service.ts","../../../projects/user/src/lib/components/login/login-card.component.ts","../../../projects/user/src/lib/components/login/login-card.component.html","../../../projects/user/src/lib/components/guard/guard.component.ts","../../../projects/user/src/lib/components/guard/guard.component.html","../../../projects/user/src/lib/pages/login/login.component.ts","../../../projects/user/src/lib/pages/login/login.component.html","../../../projects/user/src/lib/guards/auth.guard.ts","../../../projects/user/src/lib/guards/feature.guard.ts","../../../projects/user/src/lib/guards/public-api.ts","../../../projects/user/src/lib/services/user.service.ts","../../../projects/user/src/public-api.ts","../../../projects/user/src/beyond-user.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Validators } from '@angular/forms';\r\n\r\nimport { InputBase, InputEmail, InputPanel, InputPassword } from '@beyond/form-model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppUserFormService {\r\n  constructor() {}\r\n\r\n  public getLoginForm(): InputBase<any>[] {\r\n    const form: InputBase<any>[] = [\r\n      new InputPanel({\r\n        key: 'panel',\r\n        label: '',\r\n        class: 'col-sm-12',\r\n        children: [\r\n          new InputEmail({\r\n            key: 'email',\r\n            label: 'Email',\r\n            validators: [Validators.required],\r\n          }),\r\n          new InputPassword({\r\n            key: 'password',\r\n            label: 'Password',\r\n          }),\r\n        ],\r\n      }),\r\n    ];\r\n    return form;\r\n  }\r\n  public formatLoginForm(data: any): { user: string; pass: string } {\r\n    return {\r\n      user: data.email,\r\n      pass: data.password,\r\n    };\r\n  }\r\n}\r\n","import { Component, inject, signal } from '@angular/core';\r\n\r\nimport { BydFormComponent } from '@beyond/form-basic';\r\nimport { BydNotificationService, ENotificationCode } from '@beyond/notification';\r\nimport { BydAuthOdooService, BydBaseOdooService } from '@beyond/odoo';\r\nimport { LoaderComponent } from '@beyond/ui';\r\nimport { BydBaseComponent } from '@beyond/utils';\r\n\r\nimport { AppUserFormService } from '../../services/form/form.service';\r\n\r\n@Component({\r\n  selector: 'byd-login-card',\r\n  templateUrl: './login-card.component.html',\r\n  styleUrls: ['./login-card.component.scss'],\r\n  imports: [LoaderComponent, BydFormComponent],\r\n  standalone: true,\r\n})\r\nexport class LoginCardComponent extends BydBaseComponent {\r\n  private readonly _authService = inject(BydAuthOdooService);\r\n  private readonly _notificationService = inject(BydNotificationService);\r\n  private readonly _formService = inject(AppUserFormService);\r\n  private readonly _odooService = inject(BydBaseOdooService);\r\n\r\n  public readonly form = signal(this._formService.getLoginForm());\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public login(data: any) {\r\n    this.requestState.asked();\r\n    const loginData = this._formService.formatLoginForm(data);\r\n\r\n    this._authService.login$({ identifier: loginData.user, password: loginData.pass }).subscribe({\r\n      next: uid => {\r\n        this.requestState.completed();\r\n\r\n        if (uid) {\r\n          this._successMessage();\r\n        } else {\r\n          this._errorMessage('notification.success');\r\n        }\r\n        this._odooService._odooService.searchRead$('res.partner', []);\r\n      },\r\n      error: (message: string) => {\r\n        this.requestState.completed();\r\n        this._errorMessage(message);\r\n      },\r\n    });\r\n  }\r\n\r\n  private _successMessage() {\r\n    this._notificationService.addNotification('notification.success', ENotificationCode.success);\r\n    this._router.navigateByUrl('/');\r\n  }\r\n\r\n  private _errorMessage(message: string) {\r\n    this._notificationService.addNotification(message, ENotificationCode.error);\r\n  }\r\n}\r\n","<byd-loader [isLoading]=\"this.requestState.isLoading()\">\r\n  <byd-form [inputs]=\"this.form()\" (valid)=\"this.login($event)\"></byd-form>\r\n</byd-loader>\r\n","import { Component, Input, inject } from '@angular/core';\r\n\r\nimport { BydMainRoute, BydRoutes } from '@beyond/menu';\r\nimport { BydPermissionLevel, BydPermissionsServices } from '@beyond/server';\r\nimport { BydButtonComponent } from '@beyond/ui';\r\nimport { BydAbstractComponent } from '@beyond/utils';\r\n\r\n@Component({\r\n  selector: 'byd-guard',\r\n  templateUrl: './guard.component.html',\r\n  styleUrls: ['./guard.component.scss'],\r\n  imports: [BydButtonComponent],\r\n  standalone: true,\r\n})\r\nexport class GuardComponent extends BydAbstractComponent {\r\n  @Input()\r\n  level!: BydPermissionLevel;\r\n\r\n  @Input()\r\n  feature!: string;\r\n\r\n  @Input()\r\n  canDisplayErrorMessage: boolean = true;\r\n\r\n  private readonly _permissionsServices = inject(BydPermissionsServices);\r\n\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public isGuardValid(): boolean {\r\n    return this._permissionsServices.canDirectAccess(this.feature, this.level);\r\n  }\r\n\r\n  public goToLogin() {\r\n    this._router.navigateByUrl(BydRoutes.getUrl([BydMainRoute.USERLOGIN]));\r\n  }\r\n}\r\n","<div class=\"guard\">\r\n  @if (this.isGuardValid()) {\r\n    <div class=\"guard-valid\">\r\n      <ng-content></ng-content>\r\n    </div>\r\n  } @else if (!this.isGuardValid() && this.canDisplayErrorMessage) {\r\n    <div class=\"guard-no-valid ta-c\">\r\n      <!-- <cam-font-icon name=\"close-tool\" size=\"md\"></cam-font-icon> -->\r\n      {{ 'container.guard.content' }}\r\n\r\n      @if (this.level === 'authenticated') {\r\n        <byd-button (action)=\"this.goToLogin()\"> Me connecter </byd-button>\r\n      }\r\n    </div>\r\n  }\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\nimport { LoginCardComponent } from '../../components/public-api';\r\n\r\n@Component({\r\n  selector: '',\r\n  imports: [LoginCardComponent],\r\n  templateUrl: './login.component.html',\r\n  styleUrl: './login.component.scss',\r\n  standalone: true,\r\n})\r\nexport class BydLoginPage {}\r\n","<byd-login-card></byd-login-card>\r\n","import { Injectable, inject } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { BydRoutes } from '@beyond/menu';\r\nimport { BydPermissionsServices } from '@beyond/server';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard {\r\n  private readonly _permissionsServices = inject(BydPermissionsServices);\r\n\r\n  constructor(private router: Router) {}\r\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | boolean {\r\n\r\n    if (this._permissionsServices.isAuthenticated === false) {\r\n      this.setRedirect();\r\n      return false;\r\n    }\r\n    return this._permissionsServices.isAuthenticated;\r\n  }\r\n\r\n  public setRedirect(): void {\r\n    this.router.navigateByUrl(BydRoutes.getLogin());\r\n  }\r\n}\r\n","import { Injectable, inject } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Router } from '@angular/router';\r\n\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { BydRoutes } from '@beyond/menu';\r\nimport { BydPermissionsServices } from '@beyond/server';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FeatureGuard {\r\n  private readonly _permissionsServices = inject(BydPermissionsServices);\r\n  constructor(private router: Router) {}\r\n\r\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> | boolean {\r\n    const level = route.data['level'];\r\n    const feature = route.data['feature'];\r\n\r\n    if (this._permissionsServices.received === true) {\r\n      return this._isValidPermission(feature, level);\r\n    }\r\n    return this._permissionsServices.updated$.pipe(\r\n      map(() => {\r\n        return this._isValidPermission(feature, level);\r\n      })\r\n    );\r\n  }\r\n\r\n  public setRedirect(): void {\r\n    this.router.navigateByUrl(BydRoutes.getHome());\r\n  }\r\n\r\n  private _isValidPermission(feature: string, level: string) {\r\n    if (this._permissionsServices.canDirectAccess(feature, level)) {\r\n      return true;\r\n    }\r\n    this.setRedirect();\r\n    return false;\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of users\r\n */\r\n\r\nexport * from './auth.guard';\r\nexport * from './feature.guard';\r\n","import { Injectable, inject } from '@angular/core';\r\n\r\nimport { BydBaseOdooService } from '@beyond/odoo';\r\nimport { BydPermissionsServices } from '@beyond/server';\r\nimport { BehaviorSubject, filter, mergeMap, of, tap } from 'rxjs';\r\n\r\nimport { Profile } from './dto/profile';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BydUserService extends BydBaseOdooService {\r\n  readonly profile$ = new BehaviorSubject<Profile | null>(null);\r\n  readonly permissionsServices = inject(BydPermissionsServices);\r\n\r\n  constructor() {\r\n    super();\r\n    this.permissionsServices.updated$.pipe(\r\n      mergeMap(() => this.fetchProfile$())\r\n    ).subscribe()\r\n  }\r\n\r\n  public fetchProfile$() {\r\n    if (!this.permissionsServices.uid) {\r\n      return of(null);\r\n    }\r\n    return this._odooService\r\n      .searchRead$<Profile>('res.users', [['id', '=', this.permissionsServices.uid]], ['id', 'email', 'display_name'])\r\n      .pipe(\r\n        filter(data => !!data),\r\n        tap(entities => {\r\n          if (entities.length > 0) {\r\n            this.profile$.next(entities[0]);\r\n          }\r\n        })\r\n      );\r\n  }\r\n}\r\n","/*\r\n * Public API Surface of users\r\n */\r\nexport * from './lib/components/public-api';\r\nexport * from './lib/pages/public-api';\r\n\r\nexport * from './lib/guards/public-api';\r\nexport * from './lib/services/user.service';\r\n\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}